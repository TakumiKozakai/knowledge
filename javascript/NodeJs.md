# Node.js

## Node.js とは

サーバーサイドでJavaScriptを実行できる環境。
Node.jsの登場により、CLIツールなどローカルで活用するツールにもJavaScriptが使われてきている。  
その中でも有名なのが、npmと呼ばれるパッケージマネージャー、パッケージシステム。
npmはフロントエンド開発にパッケージの概念を導入し、JavaScriptのエコシステムを築き上げた。

## npm

フロントエンド開発用のパッケージマネージャー、パッケージシステム。

- npmがもたらす機能
  - モジュール読み込みの機構
  - パッケージ管理
  - ビルドシステム
  - エンジニア採用における技術スタックの統一

現在多くのOSSがnpmを通じて配布されており、アプリケーション側は利用するライブラリとバージョン指定をpackage.jsonに記述するだけで組み込みが可能。  
この仕組みにより、JavaScriptのプログラムがモジュールという単位で分割されるため、保守性や再利用性が向上した。

## Npm Scripts

npm start などのコマンドの実体は、package.jsonで定義されたショートカットコマンド（Npm Scripts）。

```package.json
{
  "name": "my-react",
  ・・・
  "scripts": {
    "start": "react-scripts start",
    ・・・
  },
  ・・・
}
```

Npm Scripts を利用することで、以下のメリットを得られる。

- オプションを追加した場合にもコマンドに影響しない
- 利用しているライブラリ/フレームワークを問わず、コマンドを統一できるため覚えやすい

## npx

ローカルにインストールされたツールを実行するためのパッケージランナー。

```bash
npx create-react-app@5.0.1 my-app --template typescript
```

## ビルドツールとタスクランナー

ビルドシステムとは、ソースコード上で読み込んでいるモジュールの依存を解決し、実行可能なJavaScriptの形式に変換する仕組み。この仕組みは、JavaScriptを利用したサーバーサイド・フロントエンド双方の開発でも利用されている。

JavaScriptのトランスパイルも普及していく中、フロントエンドエンジニアの開発環境は複雑化し、多くのタスクを実行する必要があった。例えば、AltJSのトランスパイル、SCSSのCSSへの変換、画像の圧縮、デプロイなど。  
そこでビルドのステップを管理し実行するためのタスクランナーGruntやgulpが一時期流行するが、タスクランナーはツールの学習コストがかかるためあまり使われなくなり、パッケージを管理するnpmのスクリプトによるコマンド実行を利用する方針に置き換えられた。  
2015年ごろからwebpackを筆頭にビルドツールの存在感が増し、ビルドツールは多くの機能を持ちフロントエンド開発の環境を劇的に変化させた。コマンドラインでビルドを実行可能で、必要なパラメーターやプラグインを任意で組み込むことができる。

フロントエンドでwebpackを利用することのメリット

- 利用している依存モジュールのバージョン管理と解決を自動化できる
- ファイルの結合やコードの圧縮などを自動化できる
- プラグイン気候により様々なカスタマイズができる
- ホットリロードなど開発の効率化ツールを同梱している
